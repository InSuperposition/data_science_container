// For format details, see https://aka.ms/devcontainer.json. For config options, see the
// README at: https://github.com/devcontainers/templates/tree/main/src/python
{
	"build": {
		"args": {
			"USERNAME": "${localEnv:USER:data_science}"
		},
		"context": ".",
		"dockerfile": "./Containerfile"
	},
	"customizations": {
		"vscode": {
			"extensions": [
				"charliermarsh.ruff",
				"-dbaeumer.vscode-eslint",
				"github.vscode-pull-request-github",
				"gxl.git-graph-3",
				"-ms-python.autopep8",
				"mechatroner.rainbow-csv",
				"ms-python.debugpy",
				"ms-python.vscode-pylance",
				"ms-toolsai.jupyter",
				"ms-toolsai.python-ds-extension-pack",
				"ms-toolsai.vscode-jupyter-powertoys",
				"ms-windows-ai-studio.windows-ai-studio",
				"tamasfe.even-better-toml"
			],
			"settings": {
				"[python]": {
					"editor": {
						"codeActionsOnSave": {
							"source.fixAll.ruff": "explicit",
							"source.organizeImports": "explicit"
						}
					}
				},
				"editor": {
					"formatOnSave": true,
					"renderWhitespace": "all"
				},
				"jupyter": {
					"interactiveWindow.textEditor.executeSelection": true
				}
			}
		}
	},
	"mounts": [
		"source=${localWorkspaceFolder}/.devcontainer/home/.zshenv,target=/home/${localEnv:USER:data_science}/.zshenv,type=bind,consistency=cached",
		"source=${localWorkspaceFolder}/.devcontainer/home/.config/mise,target=/home/${localEnv:USER:data_science}/.config/mise,type=bind,consistency=cached",
		"source=${localWorkspaceFolder}/.devcontainer/home/.config/starship,target=/home/${localEnv:USER:data_science}/.config/starship,type=bind,consistency=cached",
		"source=${localWorkspaceFolder}/.devcontainer/home/.config/uv,target=/home/${localEnv:USER:data_science}/.config/uv,type=bind,consistency=cached",
		"source=${localWorkspaceFolder}/.devcontainer/home/.config/zsh,target=/home/${localEnv:USER:data_science}/.config/zsh,type=bind,consistency=cached"
	],
	"name": "Data Science",
	"remoteUser": "${localEnv:USER:data_science}",
	"workspaceFolder": "/workspace",
	"workspaceMount": "source=${localWorkspaceFolder},target=/workspace,type=bind,consistency=cached"
}